{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _toConsumableArray from\"E:/EcomersFullStack/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"E:/EcomersFullStack/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import Rating from\"../components/Rating\";import{Link}from\"react-router-dom\";import{listProductDetails}from\"../actions/productActions\";import{Row,Col,ListGroup,Button,Image,ListGroupItem,Form}from\"react-bootstrap\";var ProductDetails=function ProductDetails(_ref){var history=_ref.history,match=_ref.match;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(listProductDetails(match.params.id));},[dispatch,match]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left    \"}),\"\\xA0 GO BACK\"]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" Reviews\")})}),/*#__PURE__*/_jsxs(ListGroupItem,{children:[\"Price : $\",product.price]}),/*#__PURE__*/_jsx(ListGroupItem,{children:product.description})]})}),/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status :\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock>0?\"In Stock \":\"out of stock\"})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})]})}),/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsx(Button,{className:\"btn-block\",type:\"button\",onClick:addToCartHandler,children:\"Add to cart\"})})]})]})]});};export default ProductDetails;","map":{"version":3,"sources":["E:/EcomersFullStack/frontend/src/screens/ProductDetails.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","Rating","Link","listProductDetails","Row","Col","ListGroup","Button","Image","ListGroupItem","Form","ProductDetails","history","match","qty","setQty","dispatch","productDetails","state","loading","error","product","params","id","addToCartHandler","push","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"2bAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,kBAAT,KAAmC,2BAAnC,CACA,OACEC,GADF,CAEEC,GAFF,CAGEC,SAHF,CAIEC,MAJF,CAKEC,KALF,CAMEC,aANF,CAOEC,IAPF,KAQO,iBARP,CASA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAwB,IAArBC,CAAAA,OAAqB,MAArBA,OAAqB,CAAZC,KAAY,MAAZA,KAAY,eACvBhB,QAAQ,CAAC,CAAD,CADe,wCACtCiB,GADsC,eACjCC,MADiC,eAE7C,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CACA,GAAMkB,CAAAA,cAAc,CAAGjB,WAAW,CAAC,SAACkB,KAAD,QAAWA,CAAAA,KAAK,CAACD,cAAjB,EAAD,CAAlC,CAH6C,GAIrCE,CAAAA,OAJqC,CAITF,cAJS,CAIrCE,OAJqC,CAI5BC,KAJ4B,CAITH,cAJS,CAI5BG,KAJ4B,CAIrBC,OAJqB,CAITJ,cAJS,CAIrBI,OAJqB,CAM7CvB,SAAS,CAAC,UAAM,CACdkB,QAAQ,CAACb,kBAAkB,CAACU,KAAK,CAACS,MAAN,CAAaC,EAAd,CAAnB,CAAR,CACD,CAFQ,CAEN,CAACP,QAAD,CAAWH,KAAX,CAFM,CAAT,CAIA,GAAMW,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BZ,OAAO,CAACa,IAAR,iBAAsBZ,KAAK,CAACS,MAAN,CAAaC,EAAnC,iBAA6CT,GAA7C,GACD,CAFD,CAGA,mBACE,wCACE,MAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,eAAvB,wBACE,UAAG,SAAS,CAAC,uBAAb,EADF,kBADF,cAME,MAAC,GAAD,yBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,KAAC,KAAD,EAAO,GAAG,CAAEO,OAAO,CAACK,KAApB,CAA2B,GAAG,CAAEL,OAAO,CAACM,IAAxC,CAA8C,KAAK,KAAnD,EADF,EADF,cAIE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,MAAC,SAAD,EAAW,OAAO,CAAC,OAAnB,wBACE,KAAC,aAAD,wBACE,oBAAKN,OAAO,CAACM,IAAb,EADF,EADF,cAIE,KAAC,aAAD,wBACE,KAAC,MAAD,EACE,KAAK,CAAEN,OAAO,CAACO,MADjB,CAEE,IAAI,WAAKP,OAAO,CAACQ,UAAb,YAFN,EADF,EAJF,cAUE,MAAC,aAAD,wBAAyBR,OAAO,CAACS,KAAjC,GAVF,cAWE,KAAC,aAAD,WAAgBT,OAAO,CAACU,WAAxB,EAXF,GADF,EAJF,cAmBE,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,wBACE,KAAC,aAAD,wBACE,MAAC,GAAD,yBACE,KAAC,GAAD,uBADF,cAEE,KAAC,GAAD,WACGV,OAAO,CAACW,YAAR,CAAuB,CAAvB,CAA2B,WAA3B,CAAyC,cAD5C,EAFF,GADF,EADF,CASGX,OAAO,CAACW,YAAR,CAAuB,CAAvB,eACC,KAAC,aAAD,wBACE,MAAC,GAAD,yBACE,KAAC,GAAD,kBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,EAAE,CAAC,QADL,CAEE,KAAK,CAAElB,GAFT,CAGE,QAAQ,CAAE,kBAACmB,CAAD,QAAOlB,CAAAA,MAAM,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAHZ,UAKG,mBAAIC,KAAK,CAACf,OAAO,CAACW,YAAT,CAAL,CAA4BK,IAA5B,EAAJ,EAAwCC,GAAxC,CAA4C,SAACC,CAAD,qBAC3C,eAAoB,KAAK,CAAEA,CAAC,CAAG,CAA/B,UACGA,CAAC,CAAG,CADP,EAAaA,CAAC,CAAG,CAAjB,CAD2C,EAA5C,CALH,EAFF,GADF,EAVJ,cA2BE,KAAC,aAAD,wBACE,KAAC,MAAD,EACE,SAAS,CAAC,WADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEf,gBAHX,yBADF,EA3BF,GAnBF,GANF,GADF,CAkED,CA/ED,CAiFA,cAAeb,CAAAA,cAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Rating from \"../components/Rating\";\nimport { Link } from \"react-router-dom\";\nimport { listProductDetails } from \"../actions/productActions\";\nimport {\n  Row,\n  Col,\n  ListGroup,\n  Button,\n  Image,\n  ListGroupItem,\n  Form,\n} from \"react-bootstrap\";\nconst ProductDetails = ({ history, match }) => {\n  const [qty, setQty] = useState(1);\n  const dispatch = useDispatch();\n  const productDetails = useSelector((state) => state.productDetails);\n  const { loading, error, product } = productDetails;\n\n  useEffect(() => {\n    dispatch(listProductDetails(match.params.id));\n  }, [dispatch, match]);\n\n  const addToCartHandler = () => {\n    history.push(`/cart/${match.params.id}?qty=${qty}`);\n  };\n  return (\n    <>\n      <Link to=\"/\" className=\"btn btn-light\">\n        <i className=\"fas fa-arrow-left    \"></i>\n        &nbsp; GO BACK\n      </Link>\n\n      <Row>\n        <Col md={6}>\n          <Image src={product.image} alt={product.name} fluid />\n        </Col>\n        <Col md={3}>\n          <ListGroup variant=\"flush\">\n            <ListGroupItem>\n              <h3>{product.name}</h3>\n            </ListGroupItem>\n            <ListGroupItem>\n              <Rating\n                value={product.rating}\n                text={`${product.numReviews} Reviews`}\n              />\n            </ListGroupItem>\n            <ListGroupItem>Price : ${product.price}</ListGroupItem>\n            <ListGroupItem>{product.description}</ListGroupItem>\n          </ListGroup>\n        </Col>\n        <Col md={3}>\n          <ListGroupItem>\n            <Row>\n              <Col>Status :</Col>\n              <Col>\n                {product.countInStock > 0 ? \"In Stock \" : \"out of stock\"}\n              </Col>\n            </Row>\n          </ListGroupItem>\n          {product.countInStock > 0 && (\n            <ListGroupItem>\n              <Row>\n                <Col>Qty</Col>\n                <Form.Control\n                  as=\"select\"\n                  value={qty}\n                  onChange={(e) => setQty(e.target.value)}\n                >\n                  {[...Array(product.countInStock).keys()].map((x) => (\n                    <option key={x + 1} value={x + 1}>\n                      {x + 1}\n                    </option>\n                  ))}\n                </Form.Control>\n              </Row>\n            </ListGroupItem>\n          )}\n          <ListGroupItem>\n            <Button\n              className=\"btn-block\"\n              type=\"button\"\n              onClick={addToCartHandler}\n            >\n              Add to cart\n            </Button>\n          </ListGroupItem>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}